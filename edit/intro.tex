\section{Introdução}

Este trabalho foi desenvolvindo para implementar um servidor RADIUS em conjunto com uma
base de dados LDAP para prover um serviço de autenticação de usuário a uma rede.
As seções seguintes abordam a definição do problema, ou seja, a motivação da implementação
de um servidor RADIUS e LDAP, a solução encontrada para a implementação do protocolo, o
desenvolvimento feito até a finalização do trabalho, dificuldades encontradas durante o
desenvolvimento e os resultados encontrados.

Como foi visto em sala de aula, apesar de uma encriptação de chave compartilhada
ser melhor que não ter encriptação alguma, algumas falhas de segurança podem ser
observadas.


\subsection{O Problema}

Em um contexto de uma empresa, a distribuição de internet por Wireless é um ponto de
vulnerabilidade para a rede local. Na maior parte dos casos, uma rede Wifi é protegida
utilizando o protocolo WPA2 Pre-Shared Key (PSK), que consiste na proteção do acesso a internet com uma
chave secreta compartilhada. Isso significa que todos os usuários daquela rede terão acesso
sua conexão criptografada com a mesma chave, que não pode ser revogada. \cite{freeradius}

Especialmente num ambiente corporativo, onde se tem alta rotatividade de pessoas,
o PSK não é o modelo mais seguro de conexão com a internet. Um usuário que não tem
mais vínculo com a empresa não deveria ter mais acesso à rede e o único jeito de se
fazer isto com o PSK é mudando a chave de acesso, que causa um grande \textit{overhead}
para os usuários e não garante muito mais segurança, já que um atacante pode realizar
ataques offline para descobrir a chave \cite{freeradius}

Para resolver este problema, a IEEE, ao descrever os padrões para internet sem fio,
previu um modelo "Empresarial" que difere do PSK no sentido de usar autenticação
por usuário e por sessão \cite{freeradius}. Este modelo também permite revogação de
acesso e a separação dos usuários por grupos (criando diferente VLANs, por exemplo). \cite{freeradius}

No contexto da disciplina, foi implementado a autenticação empresarial no LAPPIS,
um laboratório de desenvolvimento de software da FGA, que enfrenta alguns dos
problemas citados anteriormente.

\section{Radius}

O protocolo Remote Authentication Dial-in User Service (RADIUS) foi desenvolvido pela
Livingston Enterprises Inc. como um servidor de acesso e autenticação. RADIUS é um
protocolo cliente/servidor \cite{radius-guide}.


O servidor Radius é uma parte importante da implementação do padrão empresarial
de Wi-Fi do IEEE. Nele são realizados os processos que cuidarão do AAA, que significa
\textit{Authentication, Authorization and Accounting}. Esses serviços são essenciais
para o pleno funcionamento do \textit{WPA Enterprise}, já que uma rede que não implementa
nenhum dos três é considerada insegura e "aberta", onde "qualquer um pode ganhar
acesso e fazer o que quiser, sem ser rastreado" \cite{radius-guide}.

\subsection{Autenticação (\textit{Authentication})}

Autenticação é o serviço de validação da identidade do usuário, ou seja, comparação
das credenciais fornecidas, com as armazenadas no banco de dados. Se essas informações
são iguais, o acesso à rede é garantido, caso contrário, é negado. Se o usuário for
bloqueado ou banido, também ocorre falha na autenticação. \cite{radius-guide}


\subsection{Autorização (\textit{Authorization})}

Autorização é o processo de determinar o que o usuário pode fazer \cite{radius-guide}. Após a
autenticação, verifica-se então qual o acesso que aquele usuário tem na rede. Bloquear
algum tipo de site (um domínio ou conjunto de domínios específicos) é um exemplo
de autorização.

Com base nas informações que foram mandadas pelo cliente, e na fase anterior, o Radius
envia de volta para o cliente o que aquele usuário pode fazer na rede. O cliente,
por sua vez, é responsável por aplicar essas restrições. \cite{radius-guide}

\subsection{Responsabilidade (\textit{Accounting})}

O processo de responsabilidade (tradução livre) é onde se armazena dados relativos
ao uso da rede por determinado usuário. Esses podem ser "tempo de utilização do sistema,
quantidade de dados enviada ou recebida durante uma sessão" \cite{radius-guide}, por exemplo.

As informações armazenados neste processo não incluem informações detalhadas sobre o tráfego
de dados da rede, como por exemplo quantidade de bytes transferida numa requisição HTTP \cite{radius-guide}

\subsection{Processo da Sessão Radius}

O processo da sessão radius consiste em vários passos \cite{radius-guide}, descritos a seguir:
\begin{itemize}
    \item Um usuário entra em contato com o cliente Radius (NAS, geralmente) para
    acessar a rede;
    \item O NAS entra em contato com o servidor Radius, usando o mecanismo \textit{shared secret},
    na porta certa para o serviço;
    \item O NAS manda um \textit{Access-Request} ao servidor, com as credenciais
    do usuário;
        \subitem A mensagem é mandada utilizando um dos protocolos de segurança:
        EAP \textit{(Extensible Authentication Protocol)},
        CHAP \textit{(Challenge-Handshake Authentication Protocol)} ou
        PAP \textit{(Password Authentication Protocol)}
    \item O servidor Radius autentica o usuário;
    \item O servidor Radius manda o resultado de volta para o NAS. Se o usuário foi
    corretamente autenticado, o NAS receberá um \textit{Access Accept} e as políticas
    de uso para aquele usuário. Se o usuário foi rejeitado, um \textit{Access Reject}
    será enviado, e o usuário não terá acesso à rede.
\end{itemize}

É importante ressaltar que o servidor Radius, apesar de conter as informações e políticas
do usuário NÃO é o responsável por aplicá-las. Na verdade, toda a comunicação se dá por
iniciativa do cliente e o cliente é quem deve fazer cumprir todas as políticas para aquele usuário.

\section{LDAP}

O protocolo Lightweight Directory Access Protocol (LDAP) foi desenvolvido especificamente
para simples leituras/escritas para o X.500 Directory, e é um complemento pra o Directory
Access Protocol (DAP). O X.500 Directory é uma série de padrões de rede que aborda serviço
de diretório. O LDAP utiliza-se do TCP para o transporte de diretórios pela rede e os dados
são codificados como strings (Distinguished Names).

O modelo da X.500 de 1993 é implementado no LDAP e consiste em:
\begin{itemize}
  \item Uma entrada contem vários atributos;
  \item Um atributo tem um nome e um ou mais valores. Os atributos são definidos nos schemas;
  \item Cada entrada tem um identificador único: Distinguished Name (DN). Consiste de um
    Relative Distinguished Name (RDN), construído de alguns atributos seguidos do DN pai.
    O DN pode ser comparado com um caminho de um arquivo e o RDN o nome relativo do arquivo.
    (temos /foo/bar/file.txt como DN e file.txt como RDN).
\end{itemize}

\section{Solução e Desenvolvimento}

\section{Dificuldades}

\section{Resultados}

\bibliography{edit/refs}